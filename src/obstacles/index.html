<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Phaser - Making your first game, part 3</title>
    <script src="//cdn.jsdelivr.net/phaser/2.2.2/phaser.min.js"></script>
    <script src="Blackhole.js"></script>
    <script src="player.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

    var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update, });
    var player;
    var blackHole;
    var world;

    function preload() {

        game.load.image('star', 'star.png');

    }

    function create() {

        console.log("Hello World");
        game.physics.startSystem(Phaser.Physics.ARCADE);

        var spriteHole = game.add.sprite(20, 10, 'star');
        var spritePlayer = game.add.sprite(40, 10, 'star');

        player = new Player(new Phaser.Point(0, 1), null, spritePlayer);
        blackHole = new Blackhole(spriteHole);

        game.physics.arcade.enable(player.sprite);
        game.physics.enable(blackHole.sprite, Phaser.Physics.ARCADE);
//
        world = game.add.group();
        world.add(blackHole.sprite);
        world.create(20, 10, 'star').body.immovable = true;
        world.enableBody = true;
    }

    function update() {

        player.update(world);
        console.log("tick...")
    }

</script>

</body>
</html>